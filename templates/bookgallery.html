{% extends 'base.html' %} {% block content %}

<div id="searchbox">
  <div class="container jumbotron">
    <div class="center-align">
      <h3>BOOK GALLERY</h3>
      <p>
              {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                <div class="row flashes">
                    <h4 class="center-align">{{ message }}</h4>
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
      </p>
    </div>
  </div>

  <!--Search Bar-->
  <div class="container jumbotron">
    <div class="row">
      <div class="col s12">
        <div class="row">
          <div class="input-field col s12">
            <i class="material-icons prefix">search</i>
            <input type="text" id="autocomplete-input" class="autocomplete" />
            <label for="autocomplete-input">Search Book</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!--Cards-->
  {% for review in reviews %}
  <div class="row">
    <div class="container">
      <div class="col s12 m4">
        <div class="card sticky-action hoverable">
          
          <div class="card-image waves-effect waves-block waves-light">
            <img class="activator" src="{{ review.cover_url }}" />
          </div>

          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4"><strong>{{ review.title }}</strong></span>
            <p>{{ review.author}}</p>
          </div>
          
          <hr />

          <div class="activator">
            Description<i class="material-icons right">expand_more</i>
          </div>

          <div class="card-reveal">
            <span class="card-title grey-text text-darken-4"
              ><i class="material-icons right">close</i
              ><strong>{{ review.title }}</strong></span>
            <hr />
            <p>{{ review.description }}</p>
          </div>

          <div class="card-action">
            <span
              ><a
                href="{{url_for('edit_review', review_id=review._id)}}"
                class="tooltipped"
                data-position="bottom"
                data-tooltip="Edit"
                ><i class="material-icons">edit</i></a
              ></span
            >
            <span
              ><a
                href="#modal-book"
                class="modal-trigger tooltipped"
                data-position="bottom"
                data-tooltip="Delete"
                ><i class="material-icons">delete</i></a
              ></span
            >
            <span class="right"
              ><a
                href="{{ review.amazon_url }}"
                target="_blank"
                class="tooltipped"
                data-position="bottom"
                data-tooltip="Buy"
                ><i class="material-icons">shopping_cart</i></a
              ></span
            >
            </div>


            <div id="modal-book" class="modal">
              <div class="modal-content">
                <h4>Are you sure you want to delete {{ review.title }}?</h4>
              </div>
              <div class="modal-footer">
                <a
                  href="#"
                  class="modal-close waves-effect waves-green btn-flat"
                  >Cancel</a
                >
                <a
                  href="{{url_for('delete_review', review_id=review._id)}}"
                  class="waves-effect waves-green btn-flat"
                  data-position="bottom"
                  >Delete</a
                >
              </div>
            
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
{% endblock %}
